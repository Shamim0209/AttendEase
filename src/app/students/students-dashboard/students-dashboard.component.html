<div class="dashboard-container" *ngIf="studentProfile">
  <!-- Student Profile Section -->
  <section class="profile-section">
    <h2>Student Profile</h2>
    <p><strong>Name:</strong> {{ studentProfile.name }}</p>
    <p><strong>Enrollment Number:</strong> {{ studentProfile.enrollmentId }}</p>
    <p><strong>Email:</strong> {{ studentProfile.email }}</p>
    <p><strong>Classes:</strong> 
      <span *ngIf="studentProfile.classes.length > 0">{{ studentProfile.classes.join(', ') }}</span>
      <span *ngIf="studentProfile.classes.length === 0">No classes assigned.</span>
    </p>
  </section>

  <!-- Join Classroom Section -->
  <section class="join-classroom-section">
    <h2>Join a Classroom</h2>
    <input type="text" placeholder="Enter Class Code" [(ngModel)]="classCode" />
    <button (click)="joinClassroom()">Join Classroom</button>
  </section>

  <!-- Attendance Section -->
  <section class="attendance-section" *ngIf="classAttendance.length > 0">
    <h2>Class Attendance</h2>
    <table>
      <thead>
        <tr>
          <th>Class Name</th>
          <th>Total Classes</th>
          <th>Attended Classes</th>
          <th>Attendance Percentage</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let classInfo of classAttendance">
          <td>{{ classInfo.className }}</td>
          <td>{{ classInfo.totalClasses }}</td>
          <td>{{ classInfo.attendedClasses }}</td>
          <td>{{ getAttendancePercentage(classInfo.attendedClasses, classInfo.totalClasses) }}%</td>
        </tr>
      </tbody>
    </table>
  </section>

  <section *ngIf="classAttendance.length === 0">
    <p>No attendance records available.</p>
  </section>
</div>

<!-- If no student profile is found -->
<div *ngIf="!studentProfile" class="no-profile-section">
  <p>Student profile not found. Please check the enrollment ID.</p>
</div>
